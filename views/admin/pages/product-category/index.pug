extends ../../layouts/default.pug 
include ../../mixin/alert.pug

block main 
  h1 Danh mục sản phẩm
  +alertSuccess(4000)
  +alertError(4000)
  .card.mb-3 
    .card-header Danh sách
      .card-body 
        .row 
          .col-8 
          .col-4  
            a(
              href=`${prefixAdmin}/products-category/create`
              class="btn btn-outline-success"
            ) + Thêm mới 
        table(
          class="table table-hover table-sm table--product"
          checkbox-multi
          )
          thead 
            tr
              th  
                input(type="checkbox" name="checkall")
              th STT
              th Hình Ảnh
              th Tiêu Đề
              th Vị trí
              th Trạng Thái
              th Hành Động
          tbody
            each item,index in categorys
              tr(class="product--item")
                td 
                  input(
                    type="checkbox"
                    name="id"
                    value=item.id
                  )
                td #{index+1}
                td
                  img(src=item.thumbnail alt=item.title style="width: 100px; height: 60px; border-radius: 5px")
                td #{item.title}
                td #{item.price} $
                td 
                  input(
                    type="number"
                    value=item.position
                    style="width: 60px"
                    min="1"
                    name="position"
                  )
                td
                  if item.status === "active"
                    a(
                      href="javascript:;"
                      class="badge badge-success badge-lg" 
                      data-status=item.status
                      data-id=item.id
                      button-change-status
                      id=item.id
                      ) Hoạt động
                  else 
                    a(
                    href="javascript:;"
                    class="badge badge-danger badge-lg" 
                    data-status=item.status
                    data-id=item.id
                    button-change-status
                    id=item.id
                    ) Không Hoạt động
                td
                  a(href=`${prefixAdmin}/products-category/detail/${item.id}`
                  class="btn btn-success btn-lg" 
                  style="margin-right: 10px") Chi tiết
                  a(href=`${prefixAdmin}/products-category/edit/${item.id}`
                  class="btn btn-warning btn-lg" 
                  style="margin-right: 10px") Sửa
                  button(
                    type="button" 
                    class="btn btn-danger btn-lg"
                    button-delete
                    data-id=item.id
                    ) Xóa